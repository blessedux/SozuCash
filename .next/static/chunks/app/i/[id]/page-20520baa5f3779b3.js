(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[234],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,...m},u)=>(0,s.createElement)("svg",{ref:u,...a,width:i,height:i,stroke:r,strokeWidth:c?24*Number(l)/Number(i):l,className:["lucide",`lucide-${n(e)}`,o].join(" "),...m},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r}},3008:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2442:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6264:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2104:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9570:function(e,t,r){Promise.resolve().then(r.bind(r,1157))},1798:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(7437),a=r(2265),n=r(2167),i=r(7998),l=r(3008),c=r(2104),o=r(2549);function d(e){let{type:t,message:r,onClose:d,duration:m=3e3}=e;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{d()},m);return()=>clearTimeout(e)},[m,d]),(0,s.jsx)(n.M,{children:(0,s.jsx)(i.E.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.3},transition:{type:"spring",duration:.5},className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 max-w-sm w-full mx-4",children:(0,s.jsx)("div",{className:"card p-4 border ".concat((()=>{switch(t){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";default:return"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}})()),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(()=>{switch(t){case"success":return(0,s.jsx)(l.Z,{className:"w-5 h-5 text-green-600"});case"error":return(0,s.jsx)(c.Z,{className:"w-5 h-5 text-red-600"});default:return null}})()}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r})}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("button",{onClick:d,className:"inline-flex text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Close notification",children:(0,s.jsx)(o.Z,{className:"w-4 h-4"})})})]})})})})}},1157:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(7437),a=r(2265),n=r(4033),i=r(7998),l=r(2442);function c(e){let{onComplete:t}=e;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{t()},700);return()=>clearTimeout(e)},[t]),(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:[(0,s.jsx)(i.E.div,{initial:{scale:0,opacity:.8},animate:{scale:4,opacity:0},transition:{duration:.7,ease:"easeOut"},className:"absolute w-32 h-32 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full"}),(0,s.jsx)(i.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.3,type:"spring"},className:"relative z-10 w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:(0,s.jsx)(l.Z,{className:"w-10 h-10 text-green-600"})}),(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},className:"absolute bottom-1/4 left-1/2 transform -translate-x-1/2 text-center",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl px-6 py-3 shadow-lg",children:(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Paid âœ“"})})})]})}var o=r(1798),d=r(6264),m=r(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,m.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),x=(0,m.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var f=r(3008);function h(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),[r,l]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0),[p,y]=(0,a.useState)(null),[g,k]=(0,a.useState)(null),[j,b]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),v=e.id;(0,a.useEffect)(()=>{E()},[v]);let E=async()=>{try{h(!0),y(null);let e=await fetch("/api/i/".concat(v));if(!e.ok)throw Error("Invoice not found");let t=await e.json();if(!C(t))throw Error("Invalid invoice");l(t)}catch(e){console.error("Error fetching invoice:",e),y(e instanceof Error?e.message:"Failed to load invoice")}finally{h(!1)}},C=e=>!(!e.to||!e.amt||!e.exp||!e.sig||Date.now()/1e3>e.exp),Z=async()=>{if(r)try{k("pending"),await new Promise(e=>setTimeout(e,2e3)),k("success"),b(!0),w({type:"success",message:"Payment successful! (Demo mode)"}),setTimeout(()=>{t.push("/app")},2e3)}catch(e){console.error("Payment failed:",e),k("failed"),w({type:"error",message:"Payment failed. Please try again."})}},P=()=>{t.push("/app")};if(m)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-mantle-50 dark:from-gray-900 dark:to-gray-800",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(d.Z,{className:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoice..."})]})});if(p)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-mantle-50 dark:from-gray-900 dark:to-gray-800",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-4",children:[(0,s.jsx)(u,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Invoice Error"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:p}),(0,s.jsx)("button",{onClick:P,className:"btn-primary",children:"Go Back"})]})});if(!r)return null;let R=parseFloat(r.amt)/Math.pow(10,r.dec);return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-mantle-50 dark:from-gray-900 dark:to-gray-800 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[(0,s.jsx)("button",{onClick:P,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors","aria-label":"Go back",children:(0,s.jsx)(x,{className:"w-5 h-5"})}),(0,s.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white ml-4",children:"Payment Request"})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto",children:[(0,s.jsx)("div",{className:"card p-6 mb-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount"}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",R.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"To"}),(0,s.jsxs)("span",{className:"text-sm font-mono text-gray-900 dark:text-white",children:[r.to.slice(0,6),"...",r.to.slice(-4)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Network"}),(0,s.jsx)("span",{className:"text-sm text-gray-900 dark:text-white capitalize",children:r.net})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Token"}),(0,s.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:r.token})]}),r.memo&&(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Memo"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 dark:text-white mt-1",children:r.memo})]})]})}),g&&(0,s.jsx)("div",{className:"card p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:["pending"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{className:"w-5 h-5 animate-spin text-primary-600"}),(0,s.jsx)("span",{className:"text-primary-600",children:"Processing payment..."})]}),"success"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("span",{className:"text-green-600",children:"Payment successful!"})]}),"failed"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{className:"w-5 h-5 text-red-600"}),(0,s.jsx)("span",{className:"text-red-600",children:"Payment failed"})]})]})}),!g&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("button",{onClick:Z,className:"w-full btn-primary py-4 text-lg",children:["Pay $",R.toFixed(2)," (Demo)"]}),(0,s.jsx)("button",{onClick:P,className:"w-full btn-secondary py-4",children:"Cancel"})]}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Demo Mode - No real payments will be processed"})]})})]}),j&&(0,s.jsx)(c,{onComplete:()=>b(!1)}),N&&(0,s.jsx)(o.Z,{type:N.type,message:N.message,onClose:()=>w(null)})]})}},2167:function(e,t,r){"use strict";r.d(t,{M:function(){return p}});var s=r(2265),a=r(538);function n(){let e=(0,s.useRef)(!1);return(0,a.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=r(2363),l=r(8243),c=r(961);class o extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let r=(0,s.useId)(),a=(0,s.useRef)(null),n=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{let{width:e,height:s,top:i,left:l}=n.current;if(t||!a.current||!e||!s)return;a.current.dataset.motionPopId=r;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),s.createElement(o,{isPresent:t,childRef:a,sizeRef:n},s.cloneElement(e,{ref:a}))}let m=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:o})=>{let m=(0,c.h)(u),x=(0,s.useId)(),f=(0,s.useMemo)(()=>({id:x,initial:t,isPresent:r,custom:n,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;a&&a()},register:e=>(m.set(e,!1),()=>m.delete(e))}),i?void 0:[r]);return(0,s.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),s.useEffect(()=>{r||m.size||!a||a()},[r]),"popLayout"===o&&(e=s.createElement(d,{isPresent:r},e)),s.createElement(l.O.Provider,{value:f},e)};function u(){return new Map}var x=r(781),f=r(6567);let h=e=>e.key||"",p=({children:e,custom:t,initial:r=!0,onExitComplete:l,exitBeforeEnter:c,presenceAffectsLayout:o=!0,mode:d="sync"})=>{var u;(0,f.k)(!c,"Replace exitBeforeEnter with mode='wait'");let p=(0,s.useContext)(x.p).forceRender||function(){let e=n(),[t,r]=(0,s.useState)(0),a=(0,s.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,s.useCallback)(()=>i.Wi.postRender(a),[a]),t]}()[0],y=n(),g=function(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}(e),k=g,j=(0,s.useRef)(new Map).current,b=(0,s.useRef)(k),N=(0,s.useRef)(new Map).current,w=(0,s.useRef)(!0);if((0,a.L)(()=>{w.current=!1,function(e,t){e.forEach(e=>{let r=h(e);t.set(r,e)})}(g,N),b.current=k}),u=()=>{w.current=!0,N.clear(),j.clear()},(0,s.useEffect)(()=>()=>u(),[]),w.current)return s.createElement(s.Fragment,null,k.map(e=>s.createElement(m,{key:h(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:o,mode:d},e)));k=[...k];let v=b.current.map(h),E=g.map(h),C=v.length;for(let e=0;e<C;e++){let t=v[e];-1!==E.indexOf(t)||j.has(t)||j.set(t,void 0)}return"wait"===d&&j.size&&(k=[]),j.forEach((e,r)=>{if(-1!==E.indexOf(r))return;let a=N.get(r);if(!a)return;let n=v.indexOf(r),i=e;i||(i=s.createElement(m,{key:h(a),isPresent:!1,onExitComplete:()=>{j.delete(r);let e=Array.from(N.keys()).filter(e=>!E.includes(e));if(e.forEach(e=>N.delete(e)),b.current=g.filter(t=>{let s=h(t);return s===r||e.includes(s)}),!j.size){if(!1===y.current)return;p(),l&&l()}},custom:t,presenceAffectsLayout:o,mode:d},a),j.set(r,i)),k.splice(n,0,i)}),k=k.map(e=>{let t=e.key;return j.has(t)?e:s.createElement(m,{key:h(e),isPresent:!0,presenceAffectsLayout:o,mode:d},e)}),s.createElement(s.Fragment,null,j.size?k:k.map(e=>(0,s.cloneElement)(e)))}}},function(e){e.O(0,[126,971,938,744],function(){return e(e.s=9570)}),_N_E=e.O()}]);