(()=>{var e={};e.id=234,e.ids=[234],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2134:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>o});var a=s(482),r=s(9108),i=s(2563),n=s.n(i),l=s(8300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["i",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5359)),"/Users/JoaquinNam/Desktop/MENTE_MAESTRA/web3/sozucash/app/i/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/JoaquinNam/Desktop/MENTE_MAESTRA/web3/sozucash/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/JoaquinNam/Desktop/MENTE_MAESTRA/web3/sozucash/app/i/[id]/page.tsx"],x="/i/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/i/[id]/page",pathname:"/i/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8773:(e,t,s)=>{Promise.resolve().then(s.bind(s,9909))},9909:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(2295),r=s(3729),i=s(2254),n=s(4421),l=s(2312);function c({onComplete:e}){return(0,r.useEffect)(()=>{let t=setTimeout(()=>{e()},700);return()=>clearTimeout(t)},[e]),(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:[a.jsx(n.E.div,{initial:{scale:0,opacity:.8},animate:{scale:4,opacity:0},transition:{duration:.7,ease:"easeOut"},className:"absolute w-32 h-32 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full"}),a.jsx(n.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.3,type:"spring"},className:"relative z-10 w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:a.jsx(l.Z,{className:"w-10 h-10 text-green-600"})}),a.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},className:"absolute bottom-1/4 left-1/2 transform -translate-x-1/2 text-center",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl px-6 py-3 shadow-lg",children:a.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Paid âœ“"})})})]})}var o=s(6726),d=s(2739),x=s(9224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,x.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),u=(0,x.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var p=s(7060);function y(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),[s,l]=(0,r.useState)(null),[x,y]=(0,r.useState)(!0),[h,g]=(0,r.useState)(null),[f,j]=(0,r.useState)(null),[b,N]=(0,r.useState)(!1),[k,w]=(0,r.useState)(null),v=e.id;(0,r.useEffect)(()=>{E()},[v]);let E=async()=>{try{y(!0),g(null);let e=await fetch(`/api/i/${v}`);if(!e.ok)throw Error("Invoice not found");let t=await e.json();if(!P(t))throw Error("Invalid invoice");l(t)}catch(e){console.error("Error fetching invoice:",e),g(e instanceof Error?e.message:"Failed to load invoice")}finally{y(!1)}},P=e=>!(!e.to||!e.amt||!e.exp||!e.sig||Date.now()/1e3>e.exp),_=async()=>{if(s)try{j("pending"),await new Promise(e=>setTimeout(e,2e3)),j("success"),N(!0),w({type:"success",message:"Payment successful! (Demo mode)"}),setTimeout(()=>{t.push("/app")},2e3)}catch(e){console.error("Payment failed:",e),j("failed"),w({type:"error",message:"Payment failed. Please try again."})}},q=()=>{t.push("/app")};if(x)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-mantle-50 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(d.Z,{className:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoice..."})]})});if(h)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-mantle-50 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"text-center max-w-md mx-4",children:[a.jsx(m,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Invoice Error"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:h}),a.jsx("button",{onClick:q,className:"btn-primary",children:"Go Back"})]})});if(!s)return null;let M=parseFloat(s.amt)/Math.pow(10,s.dec);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-mantle-50 dark:from-gray-900 dark:to-gray-800 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[a.jsx("button",{onClick:q,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors","aria-label":"Go back",children:a.jsx(u,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white ml-4",children:"Payment Request"})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto",children:[a.jsx("div",{className:"card p-6 mb-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",M.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"To"}),(0,a.jsxs)("span",{className:"text-sm font-mono text-gray-900 dark:text-white",children:[s.to.slice(0,6),"...",s.to.slice(-4)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Network"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white capitalize",children:s.net})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Token"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:s.token})]}),s.memo&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Memo"}),a.jsx("p",{className:"text-sm text-gray-900 dark:text-white mt-1",children:s.memo})]})]})}),f&&a.jsx("div",{className:"card p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:["pending"===f&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{className:"w-5 h-5 animate-spin text-primary-600"}),a.jsx("span",{className:"text-primary-600",children:"Processing payment..."})]}),"success"===f&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(p.Z,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-green-600",children:"Payment successful!"})]}),"failed"===f&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(m,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-600",children:"Payment failed"})]})]})}),!f&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("button",{onClick:_,className:"w-full btn-primary py-4 text-lg",children:["Pay $",M.toFixed(2)," (Demo)"]}),a.jsx("button",{onClick:q,className:"w-full btn-secondary py-4",children:"Cancel"})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(p.Z,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Demo Mode - No real payments will be processed"})]})})]}),b&&a.jsx(c,{onComplete:()=>N(!1)}),k&&a.jsx(o.Z,{type:k.type,message:k.message,onClose:()=>w(null)})]})}},5359:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`/Users/JoaquinNam/Desktop/MENTE_MAESTRA/web3/sozucash/app/i/[id]/page.tsx`),{__esModule:r,$$typeof:i}=a,n=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[242,389,259],()=>s(2134));module.exports=a})();